
{% extends "layout.html" %}

{% block pageTitle %}
  Home â€“ GOV.UK Land Access Request Service
{% endblock %}
{% block content %}
{% include 'includes/head.html' %}
<div class="govuk-header__container1"></div>


      <div class="govuk-width-container">
        <main class="govuk-main-wrapper " id="main-content" role="main">
          <div class="govuk-grid-row">
            <div class="govuk-grid-column-two-thirds-from-desktop">
              <div class="govuk-grid-row">
                <a href="parcel-details21.html" class="govuk-back-link">Back</a>   

              <fieldset class="govuk-fieldset">
                <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
                  <h1 class="govuk-fieldset__heading">
                    Add <span id="c-landowner">landowner</span> details
                    <span class="govuk-caption-l">Enter the <span id="c-landowner1">landowner</span> details for land parcel ST1234567
                    </span>
                  </h1>
                  
                </legend>
                <div id="rowslist"></div>
                <div style="display: flex">
                <button onclick="newLandownerDetails()"  class="govuk-button" data-module="govuk-button" style="margin-right:20px">Continue </button>
                <button onclick="add()" style="margin-right:20px" class="govuk-button" data-module="govuk-button" >
                  Add another contact </button>
                  <button style="display: none;" id="remove" onclick="remove()" class="govuk-button" data-module="govuk-button">
                    Remove contact </button>
                </div>
              </fieldset>
              
               
            </div>
          </div>
        </main>
      </div>


  </div>
  </div>

  
  

  <script>
    
    let items = [];
    let i = 2;
    let x ='<div id="landowner1"> <legend class="govuk-fieldset__legend govuk-fieldset__legend--l"><h2 class="govuk-fieldset__heading" style="font-size: 32px;margin-top: 20px;">Add contact details 1</h2> </legend><br><div class="govuk-form-group"><label class="govuk-label" for="full-name">Select a contact type</label><select class="govuk-select" id="contacttype1" name="landowneroptions"><option value=""></option><option value="Landowner">Landowner</option><option value="Tenant">Tenant</option><option value="Land manager">Land manager</option><option value="Agent">Agent</option></select></div><br><div class="govuk-form-group"><label class="govuk-label" for="full-name">Full name</label><input class="govuk-input" id="fullname1" name="full-name" type="text" autocomplete="full-name"><br> <br><div class="govuk-checkboxes__item"><input class="govuk-checkboxes__input" id="primarycontact1" name="waste" type="checkbox"  onclick="primaryContact()"><label class="govuk-label govuk-checkboxes__label" for="primarycontact1">       Set as primary contact</label></div></div><div class="govuk-form-group"><label class="govuk-label" for="company-full-name">Company full name (optional)</label><input class="govuk-input" id="companyfullname1" name="company-full-name" type="text" autocomplete="company-full-name"></div><div class="govuk-form-group"><label class="govuk-label" for="address-postcode">Postcode</label><input class="govuk-input govuk-input--width-10" id="postcode1" name="address-postcode" type="text" autocomplete="postal-code"><br><button class="govuk-button govuk-button--secondary" data-module="govuk-button">Find address</button><details class="govuk-details" data-module="govuk-details">     <summary class="govuk-details__summary"><span class="govuk-details__summary-text">Enter address manually</span></summary><div class="govuk-details__text"><fieldset class="govuk-fieldset"><div class="govuk-form-group"><label class="govuk-label" for="address-line-1">Address line 1</label><input class="govuk-input" id="address-line-1" name="address-line-1" type="text" autocomplete="address-line1"></div><div class="govuk-form-group"><label class="govuk-label" for="address-line-2">Address line 2 (optional)</label><input class="govuk-input" id="address-line-2" name="address-line-2" type="text" autocomplete="address-line2"></div><div class="govuk-form-group"><label class="govuk-label" for="address-town">Town or city</label><input class="govuk-input govuk-!-width-two-thirds" id="address-town" name="address-town" type="text" autocomplete="address-level2"></div><div class="govuk-form-group"><label class="govuk-label" for="address-county">County (optional)</label><input class="govuk-input govuk-!-width-two-thirds" id="address-county" name="address-county" type="text"></div><div class="govuk-form-group"><label class="govuk-label" for="address-postcode">Postcode</label><input class="govuk-input govuk-input--width-10" id="address-postcode" name="address-postcode" type="text" autocomplete="postal-code"></div></fieldset></div></details></div><div class="govuk-form-group" style="display: flex; flex-direction: row;"><div style="margin-right: 30px;"><label class="govuk-label" for="landline-number">Phone number 1 (optional)</label><input class="govuk-input govuk-input--width-10" id="phonenumberfirst1" name="landline-number" type="text" autocomplete="landline-number"></div><div class="govuk-form-group"><label class="govuk-label" for="l1">Primary or secondary number</label><select class="govuk-select" id="psnfirst1" name="l1" onchange="landlineChange()"><option value=""></option><option value="Blank"></option><option value="Primary">Primary</option><option value="Secondary">Secondary</option></select></div></div><div class="govuk-form-group" style="display: flex; flex-direction: row;"><div style="margin-right: 30px;"><label class="govuk-label" for="mobile-number">Phone number 2 (optional)</label><input class="govuk-input govuk-input--width-10" id="phonenumbersecond1" name="mobile-number" type="text" autocomplete="mobile-number"><br> <br> <a href="#" class="govuk-link govuk-link--no-visited-state">Add another phone number</a></div><div class="govuk-form-group"><label class="govuk-label" for="m1">Primary or secondary number</label><select class="govuk-select" id="psnsecond1" name="m1" onchange="mobileChange()"><option value=""></option><option value="Blank"></option><option value="Primary">Primary</option><option value="Secondary">Secondary</option></select> <a href="#" class="govuk-link govuk-link--no-visited-state">Delete</a></div></div><BR><div class="govuk-form-group"><label class="govuk-label" for="email-address">Email (optional)</label><input class="govuk-input govuk-!-width-two-thirds" id="emailaddress1" name="email-address" type="text" autocomplete="email-address"> <br> <br><a href="#" class="govuk-link govuk-link--no-visited-state">Add another email</a></div><div class="govuk-character-count" data-module="govuk-character-count" data-maxlength="200"><div class="govuk-form-group"><label class="govuk-label" for="notes">Notes (optional)</label><textarea class="govuk-textarea govuk-js-character-count" id="notes1" name="notes" rows="5" aria-describedby="with-hint-info with-hint-hint"></textarea></div><div id="with-hint-info" class="govuk-hint govuk-character-count__message">You can enter up to 200 characters</div></div></div>';

    kitems = [];
    function add() {
      console.info();
      if(i > 2) {
        kitems.push({
          'contacttype':document.getElementById('contacttype'+i).value,
          'fullname': document.getElementById('fullname'+i).value,
          'primarycontact':document.getElementById('primarycontact'+i).checked,
          'companyfullname':document.getElementById('companyfullname'+i).value,
          'postcode':document.getElementById('postcode'+i).value,
          'phonenumberfirst':document.getElementById('phonenumberfirst'+i).value,
          'psnfirst':document.getElementById('psnfirst'+i).value,
          'phonenumbersecond':document.getElementById('phonenumbersecond'+i).value,
          'psnsecond':document.getElementById('psnsecond'+i).value,
          'emailaddress':document.getElementById('emailaddress'+i).value,
          'notes':document.getElementById('notes'+i).value
      })
      } else {
        kitems.push({
          'contacttype':document.getElementById('contacttype1').value,
          'fullname': document.getElementById('fullname1').value,
          'primarycontact':document.getElementById('primarycontact1').checked,
          'companyfullname':document.getElementById('companyfullname1').value,
          'postcode':document.getElementById('postcode1').value,
          'phonenumberfirst':document.getElementById('phonenumberfirst1').value,
          'psnfirst':document.getElementById('psnfirst1').value,
          'phonenumbersecond':document.getElementById('phonenumbersecond1').value,
          'psnsecond':document.getElementById('psnsecond1').value,
          'emailaddress':document.getElementById('emailaddress1').value,
          'notes':document.getElementById('notes1').value
      })
      }
     
      console.info('vvv.....', kitems);
      x = x + '<div id="landowner'+i+'"> <legend class="govuk-fieldset__legend govuk-fieldset__legend--l"><h2 class="govuk-fieldset__heading" style="font-size: 32px;margin-top: 20px;">Add contact details '+i+'</h2> </legend><br><div class="govuk-form-group"><label class="govuk-label" for="full-name">Select a contact type</label><select class="govuk-select" id="contacttype'+i+'" name="landowneroptions"><option value=""></option><option value="Landowner">Landowner</option><option value="Tenant">Tenant</option><option value="Land manager">Land manager</option><option value="Agent">Agent</option></select></div><br><div class="govuk-form-group"><label class="govuk-label" for="full-name">Full name</label><input class="govuk-input" id="fullname'+i+'" name="full-name" type="text" autocomplete="full-name"><br> <br><div class="govuk-checkboxes__item"><input class="govuk-checkboxes__input" id="primarycontact'+i+'" name="waste" type="checkbox"  onclick="primaryContact()"><label class="govuk-label govuk-checkboxes__label" for="primarycontact1">       Set as primary contact</label></div></div><div class="govuk-form-group"><label class="govuk-label" for="company-full-name">Company full name (optional)</label><input class="govuk-input" id="companyfullname'+i+'" name="company-full-name" type="text" autocomplete="company-full-name"></div><div class="govuk-form-group"><label class="govuk-label" for="address-postcode">Postcode</label><input class="govuk-input govuk-input--width-10" id="postcode'+i+'" name="address-postcode" type="text" autocomplete="postal-code"><br><button class="govuk-button govuk-button--secondary" data-module="govuk-button">Find address</button><details class="govuk-details" data-module="govuk-details">     <summary class="govuk-details__summary"><span class="govuk-details__summary-text">Enter address manually</span></summary><div class="govuk-details__text"><fieldset class="govuk-fieldset"><div class="govuk-form-group"><label class="govuk-label" for="address-line-1">Address line 1</label><input class="govuk-input" id="address-line-1" name="address-line-1" type="text" autocomplete="address-line1"></div><div class="govuk-form-group"><label class="govuk-label" for="address-line-2">Address line 2 (optional)</label><input class="govuk-input" id="address-line-2" name="address-line-2" type="text" autocomplete="address-line2"></div><div class="govuk-form-group"><label class="govuk-label" for="address-town">Town or city</label><input class="govuk-input govuk-!-width-two-thirds" id="address-town" name="address-town" type="text" autocomplete="address-level2"></div><div class="govuk-form-group"><label class="govuk-label" for="address-county">County (optional)</label><input class="govuk-input govuk-!-width-two-thirds" id="address-county" name="address-county" type="text"></div><div class="govuk-form-group"><label class="govuk-label" for="address-postcode">Postcode</label><input class="govuk-input govuk-input--width-10" id="address-postcode" name="address-postcode" type="text" autocomplete="postal-code"></div></fieldset></div></details></div><div class="govuk-form-group" style="display: flex; flex-direction: row;"><div style="margin-right: 30px;"><label class="govuk-label" for="landline-number">Phone number 1 (optional)</label><input class="govuk-input govuk-input--width-10" id="phonenumberfirst'+i+'" name="landline-number" type="text" autocomplete="landline-number"></div><div class="govuk-form-group"><label class="govuk-label" for="l1">Primary or secondary number</label><select class="govuk-select" id="psnfirst'+i+'" name="l1" onchange="landlineChange()"><option value=""></option><option value="Blank"></option><option value="Primary">Primary</option><option value="Secondary">Secondary</option></select></div></div><div class="govuk-form-group" style="display: flex; flex-direction: row;"><div style="margin-right: 30px;"><label class="govuk-label" for="mobile-number">Phone number 2 (optional)</label><input class="govuk-input govuk-input--width-10" id="phonenumbersecond'+i+'" name="mobile-number" type="text" autocomplete="mobile-number"><br> <br> <a href="#" class="govuk-link govuk-link--no-visited-state">Add another phone number</a></div><div class="govuk-form-group"><label class="govuk-label" for="m1">Primary or secondary number</label><select class="govuk-select" id="psnsecond'+i+'" name="m1" onchange="mobileChange()"><option value=""></option><option value="Blank"></option><option value="Primary">Primary</option><option value="Secondary">Secondary</option></select> <a href="#" class="govuk-link govuk-link--no-visited-state">Delete</a></div></div><BR><div class="govuk-form-group"><label class="govuk-label" for="email-address">Email (optional)</label><input class="govuk-input govuk-!-width-two-thirds" id="emailaddress'+i+'" name="email-address" type="text" autocomplete="email-address"> <br> <br><a href="#" class="govuk-link govuk-link--no-visited-state">Add another email</a></div><div class="govuk-character-count" data-module="govuk-character-count" data-maxlength="200"><div class="govuk-form-group"><label class="govuk-label" for="notes">Notes (optional)</label><textarea class="govuk-textarea govuk-js-character-count" id="notes'+i+'" name="notes" rows="5" aria-describedby="with-hint-info with-hint-hint"></textarea></div><div id="with-hint-info" class="govuk-hint govuk-character-count__message">You can enter up to 200 characters</div></div></div>';
      items.push('landowner'+i)
      document.getElementById("rowslist").innerHTML = x;
      document.getElementById('remove').style.display = "block";

     // document.getElementById('contacttype1').value = document.getElementById('contacttype1').value;
        // let fullname    = document.getElementById('fullname1').value;
        // let primarycontact = document.getElementById('primarycontact1').checked;
        // let companyfullname = document.getElementById('companyfullname1').value;
        // let postcode = document.getElementById('postcode1').value;
        // let phonenumberfirst = document.getElementById('phonenumberfirst1').value;
        // let psnfirst = document.getElementById('psnfirst1').value;
        // let phonenumbersecond = document.getElementById('phonenumbersecond1').value;
        // let psnsecond = document.getElementById('psnsecond1').value;
        // let emailaddress = document.getElementById('emailaddress1').value;
        // let notes = document.getElementById('notes1').value;



        console.info('I..................', i);

      i++;

      
    }
    document.getElementById("rowslist").innerHTML = x;

    function remove() {    

      console.info('ccc..........', items[items.length-1]);

      if(items[items.length-1] === 'landowner2') {
          document.getElementById('remove').style.display = "none";  
        }
      if(items[items.length-1]) { 
        document.getElementById(items[items.length-1]).remove();
        items.pop();        
      } else { 
        document.getElementById('remove').style.display = "none";
      }
    }
    function newLandownerDetails() {
      let Landowner = [];
      

      if(items) {
        for(let i=1; i<=items.length+1;i++) {
          
          Landowner.push({
          'contacttype':document.getElementById('contacttype'+i).value,
          'fullname': document.getElementById('fullname'+i).value,
          'primarycontact':document.getElementById('primarycontact'+i).checked,
          'companyfullname':document.getElementById('companyfullname'+i).value,
          'postcode':document.getElementById('postcode'+i).value,
          'phonenumberfirst':document.getElementById('phonenumberfirst'+i).value,
          'psnfirst':document.getElementById('psnfirst'+i).value,
          'phonenumbersecond':document.getElementById('phonenumbersecond'+i).value,
          'psnsecond':document.getElementById('psnsecond'+i).value,
          'emailaddress':document.getElementById('emailaddress'+i).value,
          'notes':document.getElementById('notes'+i).value

      })
        }
        //console.info('Landowner........', Landowner);
        localStorage.setItem('landownerobject', JSON.stringify(Landowner));
        window.location.href = "/sprint19/internal/new-landowner-details"
      } else {
        let contacttype = document.getElementById('contacttype1').value;
        let fullname    = document.getElementById('fullname1').value;
        let primarycontact = document.getElementById('primarycontact1').checked;
        let companyfullname = document.getElementById('companyfullname1').value;
        let postcode = document.getElementById('postcode1').value;
        let phonenumberfirst = document.getElementById('phonenumberfirst1').value;
        let psnfirst = document.getElementById('psnfirst1').value;
        let phonenumbersecond = document.getElementById('phonenumbersecond1').value;
        let psnsecond = document.getElementById('psnsecond1').value;
        let emailaddress = document.getElementById('emailaddress1').value;
        let notes = document.getElementById('notes1').value;
        Landowner.push({
          'contacttype':contacttype,
          'fullname': fullname,
          'primarycontact':primarycontact,
          'companyfullname':companyfullname,
          'postcode':postcode,
          'phonenumberfirst':phonenumberfirst,
          'psnfirst':psnfirst,
          'phonenumbersecond':phonenumbersecond,
          'psnsecond':psnsecond,
          'emailaddress':emailaddress,
          'notes':notes

      })
      localStorage.setItem('landownerobject', JSON.stringify(Landowner));
      window.location.href = "/sprint19/internal/new-landowner-details"
      }

     // console.info('items.......', items)
    }
  </script>

{% endblock %}
